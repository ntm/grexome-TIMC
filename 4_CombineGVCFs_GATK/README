15/04/2018
NTM

I wanted to set up CombineGVCFs to work on krakenator.

Long story short: it's crazy slow, I wrote an equivalent that's
fast and reliable, see 4NTM_MergeGVCFs/ .
Also, I found that GATK-GenotypeGVCFs can work on the 400 individual
GVCFs directly if we set  $numThreads = 1 in gvcf2vcf.pl (with more 
than 1 thread it consistently crashes after about a day of work...).

Below are the log entries when I was fighting with this, left pour memoire.


####################
05/04/2018

Looking to use CombineGVCFs.

doc is: 
https://software.broadinstitute.org/gatk/documentation/tooldocs/3.8-0/org_broadinstitute_gatk_tools_walkers_variantutils_CombineGVCFs.php

Seems simple.
There is a -D dbSNP option but it's useless for us, it only adds
rs numbers in ID column but VEP will do the equivalent later.

Wrote combineGVCFs_GATK.pl to use GATK-CombineGVCFs .

26 min for 2 samples and a single thread (but we can't have more than
1 thread with this tool).

Starting it on all individual GVCFs:
xx_CombineGVCFs_GATK/combineGVCFs_GATK.pl IndivGVCFs/ grexomeAll.g.vcf.gz 2> combineGVCFs.err &

###################
UPDATE: CombineGVCFs is crazy slow (saying it will take a week
currently, on krakenator with gvcfs on luke mounted via sshfs).

I am killing it, keeping the file I have currently (only up to chr1:7965361)
as grexomeAll.CombineGVCFs_Truncated.g.vcf.gz .


But the following thread says it's not useful for ~200 samples
and GenotypeGVCFs can run on those uncombined samples.
Also GenotypeGVCFs takes advantage of -nt... [UPDATE: actually it
keeps dying on me when more than 1 thread, there seems to be
a filehandle leak... more below]
https://gatkforums.broadinstitute.org/gatk/discussion/3973/combinegvcfs-performance

I'm trying this now.
